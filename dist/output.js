(()=>{const e=document.querySelectorAll("input"),t=document.querySelector("body"),l=document.querySelector(".start"),r=document.querySelector(".reset"),a=document.querySelector(".stop");let n,u=!0,c=0;const o=()=>{let t=[e[0].value,e[1].value,e[2].value],l=[];t.forEach((e=>{let t,r="",a=0;for(let l=0;l<e.length;++l){let n=e.charAt(l);allNumbers=["0","1","2","3","4","5","6","7","8","9"],t=allNumbers.find((e=>e==n)),0==a&&null!=t?r+=t:null==t&&(a=1)}null==t||1==a?l.push(0):l.push(parseInt(r)),l[0]>24?l[0]=24:l[1]>60?l[1]=60:l[2]>60&&(l[2]=60)}));for(let t=0;t<3;++t)e[t].value=l[t]};e.forEach((e=>{e.addEventListener("input",o)}));const s=(t,l,r)=>{n=setInterval((()=>{if((0!=t||0!=l||0!=r)&&(r>0||l>0&&0==r||t>0)){if(0!=r&&r!=--r&&(e[2].value=r),l>0&&0==r){let t=l;--l,r=60,t!=l&&(e[1].value=l,e[2].value)}if(t>0&&0==l&&0==r){let a=t;--t,l=60,setTimeout((()=>{a!=t&&(e[0].value=t,e[1].value=59,e[2].value=59,l=59,r=59)}),1e3)}}}),1e3)};l.addEventListener("click",(()=>{if(1==u){if(""!=e[0].value||""!=e[1].value||""!=e[2].value){let t=parseInt(e[0].value),l=parseInt(e[1].value),r=parseInt(e[2].value);s(t,l,r),u=!1}}else if(0==u){let e=document.createElement("div");e.innerText="Click 'reset' to start a new pomodoro",e.classList.add("currentlyStarted"),t.appendChild(e),u="standBy"}})),r.addEventListener("click",(()=>{e.forEach((e=>{e.value=""}));let l=document.querySelector(".currentlyStarted");null!=l&&t.removeChild(l),u=!0,a.innerText="Stop",c=0,clearInterval(n)})),a.addEventListener("click",(()=>{if(0==c)clearInterval(n),a.innerText="Resume",c=1;else if(1==c){let t=parseInt(e[0].value),l=parseInt(e[1].value),r=parseInt(e[2].value);s(t,l,r),a.innerText="Stop",c=0}u=!1}))})();